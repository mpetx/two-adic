# two-adic
two-adicは2進数演算のためのヘッダーオンリーライブラリーです。

[p進数](https://ja.wikipedia.org/wiki/P%E9%80%B2%E6%95%B0)

## 例

```cpp
#include <iostream>
#include <two-adic/two-adic.hpp>

int main() {
  two_adic::two_adic<64> x { 3 };
  std::cout << " -3 = " << -x << std::endl;
  std::cout << "1/3 = " << x.inverse() << std::endl;
}
```

```console:output
 -3 = 1111111111111111111111111111111111111111111111111111111111111101P0
1/3 = 1010101010101010101010101010101010101010101010101010101010101011P0
```

## API
### コンストラクタ
```cpp
two_adic(two_adic const & x); // 1
two_adic(two_adic && x); // 2
two_adic & operator=(two_adic const & x); // 3
two_adic & operator=(two_adic && x); // 4

template <typename I>
two_adic(I x); // 5
```

1から4はデフォルトコンストラクタ。

5は値が`x`である2進数を構築する。`I`は整数型でなければならない。

### 算術演算子
```cpp
two_adic operator+(two_adic const & x) const;
two_adic operator-() const;
two_adic operator-(two_adic const & x) const;
two_adic operator*(two_adic const & x) const;
two_adic operator/(two_adic const & x) const;
two_adic operator<<(std::size_t offset) const;
two_adic operator>>(std::size_t offset) const;
```
和差積商演算子はその和差積商を計算する。

シフト演算子は2の累乗倍を計算する。

### `inverse`
```cpp
two_adic inverse() const;
```
逆数を計算する。

### `norm`
```cpp
double norm() const;
```
ノルムを計算する。

### `distance`
```cpp
static double distance(two_adic const & x, two_adic const & y);
```
両数の距離（差のノルム）を計算する。


### 代入演算子
```cpp
two_adic & operator=(two_adic const & x);
two_adic & operator=(two_adic && x);
two_adic & operator+=(two_adic const & x);
two_adic & operator-=(two_adic const & x);
two_adic & operator*=(two_adic const & x);
two_adic & operator/=(two_adic const & x);
two_adic & operator<<=(std::size_t offset);
two_adic & operator>>=(std::size_t offset);
```

### `is_nan`
```cpp
bool is_nan() const;
```

値がnanかどうかを調べる。

### `nan`
```cpp
static two_adic nan();
```

nanを返す。

### `operator<<`
```cpp
std::ostream & operator<<(std::ostream & out, two_adic const & x);
```

`x`を`out`に出力する。

## 17の平方根

以下はこのライブラリーによって計算された2進数における17の平方根の下2000桁です。

```console
00011111110001111100110100101100001011100111011000010101001110001001011000100101
10001100100110101111001001001010110110010001001010101000010010001010010110111111
00100000000011111000101101010110111111001100010000101111010000001010110011010011
00100110110010001011100101011001000001011101011111101001100110011110111101100000
00101010011100110010111111111111001110110011110110000011110000011100011101111011
01111000110111011101010101110100110010010011010111011111010111100101101001000010
10010011011111000101111111001001110010101111100001100110010111010010000001111110
11011110110100110000000010011111000110000011011111101110001111100001110001001001
11100110101011001100011110100000101011001111001100111000001101010110010110110000
10111011110010010001000000000110000000011100010001101011010010110010000100001100
11010010010001110000111001110011110000110101001011111100110110001000011110110001
10001000100100100011110000110110000110001001101111101010100001001110111011110010
01100000101001001110101100101001011011110101011000110110000110101110111001001000
11100001110110101010100010111110011011011101000011001111101101010111111001110000
10110100100111001001011010010111100000010000111111111111011011011011111101111001
11000101000001111111100010010011001000001010100101011011010010111110100110111000
10100010010010111101111111001110001000001011101010111001101010011000111110110000
00000001110001001000111000011100010010101010110111110000100011111111000000000011
00010100010101111011000011000100101001100010111100000011001010111110001100101010
00001100010000011010011011000010000100001000101011001011011010101101111000000111
01100010000101110101000010001010111000100001011001001010110000001001000000000011
01100011000011111001010111101011111101000100101111001000011001101000110010100111
01001001011001101001111100001001010011011010111010001100111011110011101001000010
00111011101101000110100011101001110100100101001010111100110100101011111110110110
01010011111000110111101001011101101111100000110011001100001011001101100100010111.
```
